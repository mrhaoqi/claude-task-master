# Claude Task Master - è¿œç¨‹ MCP æœåŠ¡

## æ¦‚è¿°

Claude Task Master ç°åœ¨æ”¯æŒä½œä¸ºè¿œç¨‹ HTTP MCP æœåŠ¡è¿è¡Œï¼Œå…è®¸å¤šä¸ª IDE å’Œç”¨æˆ·åŒæ—¶è¿æ¥å¹¶ç®¡ç†ä¸åŒçš„é¡¹ç›®ã€‚è¿™ä¸ªæ–°æ¶æ„æä¾›äº†æ›´å¥½çš„å¯æ‰©å±•æ€§å’Œå¤šç”¨æˆ·æ”¯æŒã€‚

## ğŸš€ æ–°ç‰¹æ€§

### å¤šé¡¹ç›®æ”¯æŒ
- æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹çš„ä»»åŠ¡æ–‡ä»¶å’Œé…ç½®
- é¡¹ç›®çº§åˆ«çš„éš”ç¦»å’Œå®‰å…¨æ€§
- æ”¯æŒæ— é™æ•°é‡çš„é¡¹ç›®

### è¿œç¨‹ MCP æœåŠ¡å™¨
- HTTP åè®®æ”¯æŒï¼Œæ— éœ€æœ¬åœ°å®‰è£…
- æ”¯æŒå¤šä¸ªå¹¶å‘è¿æ¥
- å®æ—¶ä»»åŠ¡åŒæ­¥å’ŒçŠ¶æ€æ›´æ–°

### å®Œæ•´çš„ MCP å·¥å…·é›†
- **37ä¸ª MCP å·¥å…·**ï¼Œè¦†ç›–å®Œæ•´çš„ä»»åŠ¡ç®¡ç†ç”Ÿå‘½å‘¨æœŸ
- ä¸åŸå§‹ TaskMaster åŠŸèƒ½å®Œå…¨å…¼å®¹
- æ–°å¢å·¥å…·ï¼š`sync_readme`ã€`help`ã€`migrate`

### IDE é›†æˆ
- Claude Desktop
- Cursor
- VS Code (é€šè¿‡ Cline)
- Windsurf
- ä»»ä½•æ”¯æŒ MCP åè®®çš„å·¥å…·

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude Desktop â”‚    â”‚     Cursor      â”‚    â”‚    VS Code      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚   + Cline       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â”‚              HTTP MCP Protocol              â”‚
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Remote MCP Server       â”‚
                    â”‚   (Port 3000)             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Express.js API Server   â”‚
                    â”‚   - Project Management    â”‚
                    â”‚   - Task Management       â”‚
                    â”‚   - File Management       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Project Storage         â”‚
                    â”‚   projects/               â”‚
                    â”‚   â”œâ”€â”€ project-a/          â”‚
                    â”‚   â”‚   â”œâ”€â”€ tasks.json      â”‚
                    â”‚   â”‚   â””â”€â”€ config.json     â”‚
                    â”‚   â””â”€â”€ project-b/          â”‚
                    â”‚       â”œâ”€â”€ tasks.json      â”‚
                    â”‚       â””â”€â”€ config.json     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ å®‰è£…å’Œéƒ¨ç½²

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/mrhaoqi/claude-task-master.git
   cd claude-task-master
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **é…ç½®ç¯å¢ƒ**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ  AI API å¯†é’¥
   ```

4. **å¯åŠ¨æœåŠ¡**
   ```bash
   npm start
   ```

5. **éªŒè¯æœåŠ¡**
   ```bash
   curl http://localhost:3000/health
   ```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t claude-task-master .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name claude-task-master \
  -p 3000:3000 \
  -v $(pwd)/projects:/app/projects \
  --env-file .env \
  claude-task-master
```

## ğŸ”§ IDE é…ç½®

### Claude Desktop

ç¼–è¾‘é…ç½®æ–‡ä»¶ `claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "claude-task-master": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "http://localhost:3000/mcp"
      ],
      "env": {
        "X-PROJECT": "my-project"
      }
    }
  }
}
```

### Cursor

åœ¨ Cursor è®¾ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "mcp": {
    "servers": {
      "claude-task-master": {
        "command": "npx",
        "args": ["mcp-remote", "http://localhost:3000/mcp"],
        "env": {
          "X-PROJECT": "my-project"
        }
      }
    }
  }
}
```

### VS Code + Cline

åœ¨ VS Code è®¾ç½®ä¸­é…ç½®ï¼š

```json
{
  "cline.mcpServers": {
    "claude-task-master": {
      "command": "npx",
      "args": ["mcp-remote", "http://localhost:3000/mcp"],
      "env": {
        "X-PROJECT": "${workspaceFolderBasename}"
      }
    }
  }
}
```

## ğŸ› ï¸ MCP å·¥å…·å‚è€ƒ

### é¡¹ç›®ç®¡ç†
- `initialize_project` - åˆå§‹åŒ–æ–°é¡¹ç›®
- `migrate` - è¿ç§»é¡¹ç›®ç»“æ„
- `models` - é…ç½® AI æ¨¡å‹
- `rules` - ç®¡ç†é¡¹ç›®è§„åˆ™

### ä»»åŠ¡ç®¡ç†
- `get_tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `get_task` - è·å–ä»»åŠ¡è¯¦æƒ…
- `add_task` - æ·»åŠ æ–°ä»»åŠ¡
- `update_task` - æ›´æ–°ä»»åŠ¡
- `remove_task` - åˆ é™¤ä»»åŠ¡
- `set_task_status` - è®¾ç½®ä»»åŠ¡çŠ¶æ€
- `next_task` - è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡
- `move_task` - ç§»åŠ¨ä»»åŠ¡ä½ç½®

### å­ä»»åŠ¡ç®¡ç†
- `add_subtask` - æ·»åŠ å­ä»»åŠ¡
- `update_subtask` - æ›´æ–°å­ä»»åŠ¡
- `remove_subtask` - åˆ é™¤å­ä»»åŠ¡
- `clear_subtasks` - æ¸…é™¤æ‰€æœ‰å­ä»»åŠ¡

### ä»»åŠ¡åˆ†æ
- `analyze` - åˆ†æé¡¹ç›®å¤æ‚åº¦
- `expand_task` - æ‰©å±•ä»»åŠ¡ä¸ºå­ä»»åŠ¡
- `expand_all` - æ‰©å±•æ‰€æœ‰ä»»åŠ¡
- `complexity_report` - ç”Ÿæˆå¤æ‚åº¦æŠ¥å‘Š

### ä¾èµ–ç®¡ç†
- `add_dependency` - æ·»åŠ ä»»åŠ¡ä¾èµ–
- `remove_dependency` - åˆ é™¤ä»»åŠ¡ä¾èµ–
- `validate_dependencies` - éªŒè¯ä¾èµ–å…³ç³»
- `fix_dependencies` - ä¿®å¤ä¾èµ–é—®é¢˜

### æ ‡ç­¾ç®¡ç†
- `list_tags` - åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
- `add_tag` - æ·»åŠ æ–°æ ‡ç­¾
- `delete_tag` - åˆ é™¤æ ‡ç­¾
- `use_tag` - åˆ‡æ¢æ ‡ç­¾
- `rename_tag` - é‡å‘½åæ ‡ç­¾
- `copy_tag` - å¤åˆ¶æ ‡ç­¾

### æ–‡æ¡£å’Œå¸®åŠ©
- `sync_readme` - åŒæ­¥ä»»åŠ¡åˆ° README
- `help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `get_operation_status` - è·å–æ“ä½œçŠ¶æ€

### å…¶ä»–åŠŸèƒ½
- `parse_prd` - è§£æ PRD æ–‡æ¡£
- `generate` - ç”Ÿæˆä»»åŠ¡æ–‡ä»¶
- `research` - AI ç ”ç©¶åŠŸèƒ½
- `update` - æ›´æ–°ä»»åŠ¡æ–‡ä»¶

## ğŸ”„ ä½¿ç”¨ç¤ºä¾‹

### 1. åˆå§‹åŒ–æ–°é¡¹ç›®

```
è¯·ä½¿ç”¨ initialize_project å·¥å…·åˆ›å»ºä¸€ä¸ªåä¸º "web-app" çš„æ–°é¡¹ç›®
```

### 2. è§£æ PRD æ–‡æ¡£

```
è¯·ä½¿ç”¨ parse_prd å·¥å…·è§£æä»¥ä¸‹ PRD å¹¶ç”Ÿæˆä»»åŠ¡ï¼š

# ç”¨æˆ·è®¤è¯ç³»ç»Ÿ PRD

## åŠŸèƒ½éœ€æ±‚
1. ç”¨æˆ·æ³¨å†Œ
2. ç”¨æˆ·ç™»å½•
3. å¯†ç é‡ç½®
4. ç”¨æˆ·èµ„æ–™ç®¡ç†

## æŠ€æœ¯è¦æ±‚
- ä½¿ç”¨ JWT è®¤è¯
- å¯†ç åŠ å¯†å­˜å‚¨
- é‚®ä»¶éªŒè¯
```

### 3. ç®¡ç†ä»»åŠ¡

```
è¯·ä½¿ç”¨ get_tasks å·¥å…·æ˜¾ç¤ºæ‰€æœ‰å¾…å¤„ç†çš„ä»»åŠ¡
```

```
è¯·ä½¿ç”¨ add_task å·¥å…·æ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡ï¼š
- æ ‡é¢˜ï¼šå®ç°ç”¨æˆ·ç™»å½• API
- æè¿°ï¼šåˆ›å»º POST /api/auth/login ç«¯ç‚¹
- ä¼˜å…ˆçº§ï¼šé«˜
```

### 4. ç”Ÿæˆæ–‡æ¡£

```
è¯·ä½¿ç”¨ sync_readme å·¥å…·å°†å½“å‰ä»»åŠ¡åˆ—è¡¨åŒæ­¥åˆ° README.md æ–‡ä»¶
```

## ğŸ“Š æ€§èƒ½å’Œæ‰©å±•æ€§

### å¹¶å‘æ”¯æŒ
- æ”¯æŒå¤šä¸ª IDE åŒæ—¶è¿æ¥
- æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹çš„æ–‡ä»¶é”å®š
- æ™ºèƒ½ç¼“å­˜æœºåˆ¶

### èµ„æºä½¿ç”¨
- å†…å­˜ä½¿ç”¨ï¼š~100MBï¼ˆåŸºç¡€ï¼‰+ ~10MB/é¡¹ç›®
- CPU ä½¿ç”¨ï¼šä½ï¼ˆäº‹ä»¶é©±åŠ¨æ¶æ„ï¼‰
- å­˜å‚¨ï¼šæ¯ä¸ªé¡¹ç›® ~1-10MB

### æ‰©å±•æ€§
- æ°´å¹³æ‰©å±•ï¼šæ”¯æŒè´Ÿè½½å‡è¡¡
- å‚ç›´æ‰©å±•ï¼šæ”¯æŒå¤§å‹é¡¹ç›®
- æ’ä»¶ç³»ç»Ÿï¼šå¯æ‰©å±•æ–°åŠŸèƒ½

## ğŸ”’ å®‰å…¨è€ƒè™‘

### é¡¹ç›®éš”ç¦»
- æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹çš„æ•°æ®ç›®å½•
- é¡¹ç›®çº§åˆ«çš„è®¿é—®æ§åˆ¶
- æ–‡ä»¶ç³»ç»Ÿæƒé™ä¿æŠ¤

### API å®‰å…¨
- è¯·æ±‚éªŒè¯å’Œæ¸…ç†
- é”™è¯¯ä¿¡æ¯è„±æ•
- é€Ÿç‡é™åˆ¶

### æ•°æ®ä¿æŠ¤
- å®šæœŸè‡ªåŠ¨å¤‡ä»½
- æ•°æ®å®Œæ•´æ€§æ£€æŸ¥
- æ¢å¤æœºåˆ¶

## ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:3000/health
```

### æ—¥å¿—ç›‘æ§
```bash
tail -f logs/app.log
```

### æ€§èƒ½ç›‘æ§
```bash
curl http://localhost:3000/api/admin/stats
```

## ğŸ†• ç‰ˆæœ¬æ›´æ–°

### ä»åŸå§‹ TaskMaster è¿ç§»

1. **å¤‡ä»½æ•°æ®**
   ```bash
   cp -r .taskmaster backup/
   ```

2. **ä½¿ç”¨è¿ç§»å·¥å…·**
   ```
   è¯·ä½¿ç”¨ migrate å·¥å…·è¿ç§»ç°æœ‰é¡¹ç›®åˆ°æ–°ç»“æ„
   ```

3. **éªŒè¯è¿ç§»**
   ```bash
   curl http://localhost:3000/api/projects
   ```

## ğŸ“š æ›´å¤šæ–‡æ¡£

- [API æ–‡æ¡£](API.md)
- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md)
- [IDE é…ç½®](IDE_CONFIGURATION.md)
- [æ•…éšœæ’é™¤](TROUBLESHOOTING.md)
